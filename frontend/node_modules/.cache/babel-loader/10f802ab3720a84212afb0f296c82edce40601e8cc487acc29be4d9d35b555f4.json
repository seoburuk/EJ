{"ast":null,"code":"const API_URL = 'http://localhost:8080';\nexport const messageApi = {\n  // 메시지 전송\n  sendMessage: async (receiverId, title, content) => {\n    const response = await fetch(`${API_URL}/api/messages`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        receiverId,\n        title,\n        content\n      })\n    });\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return data;\n  },\n  // 받은 메시지 목록\n  getReceivedMessages: async (offset = 0, limit = 20) => {\n    const response = await fetch(`${API_URL}/api/messages/received?offset=${offset}&limit=${limit}`, {\n      credentials: 'include'\n    });\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return {\n      messages: data.messages,\n      total: data.total\n    };\n  },\n  // 보낸 메시지 목록\n  getSentMessages: async (offset = 0, limit = 20) => {\n    const response = await fetch(`${API_URL}/api/messages/sent?offset=${offset}&limit=${limit}`, {\n      credentials: 'include'\n    });\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return {\n      messages: data.messages,\n      total: data.total\n    };\n  },\n  // 메시지 조회\n  getMessage: async id => {\n    const response = await fetch(`${API_URL}/api/messages/${id}`, {\n      credentials: 'include'\n    });\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return data.message;\n  },\n  // 안 읽은 메시지 수\n  getUnreadCount: async () => {\n    const response = await fetch(`${API_URL}/api/messages/unread/count`, {\n      credentials: 'include'\n    });\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return data.count;\n  },\n  // 메시지 삭제\n  deleteMessage: async id => {\n    const response = await fetch(`${API_URL}/api/messages/${id}`, {\n      method: 'DELETE',\n      credentials: 'include'\n    });\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return data;\n  }\n};","map":{"version":3,"names":["API_URL","messageApi","sendMessage","receiverId","title","content","response","fetch","method","headers","credentials","body","JSON","stringify","data","json","success","Error","message","getReceivedMessages","offset","limit","messages","total","getSentMessages","getMessage","id","getUnreadCount","count","deleteMessage"],"sources":["/Users/yunsu-in/Downloads/Globalin/frontend/src/api/message.ts"],"sourcesContent":["const API_URL = 'http://localhost:8080';\n\nexport interface Message {\n  id: number;\n  senderId: number;\n  receiverId: number;\n  title: string;\n  content: string;\n  isRead: boolean;\n  createdAt: string;\n  deletedBySender: boolean;\n  deletedByReceiver: boolean;\n  senderNickname: string;\n  receiverNickname: string;\n}\n\nexport const messageApi = {\n  // 메시지 전송\n  sendMessage: async (receiverId: number, title: string, content: string): Promise<any> => {\n    const response = await fetch(`${API_URL}/api/messages`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      credentials: 'include',\n      body: JSON.stringify({ receiverId, title, content }),\n    });\n\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return data;\n  },\n\n  // 받은 메시지 목록\n  getReceivedMessages: async (offset: number = 0, limit: number = 20): Promise<{ messages: Message[]; total: number }> => {\n    const response = await fetch(`${API_URL}/api/messages/received?offset=${offset}&limit=${limit}`, {\n      credentials: 'include',\n    });\n\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return { messages: data.messages, total: data.total };\n  },\n\n  // 보낸 메시지 목록\n  getSentMessages: async (offset: number = 0, limit: number = 20): Promise<{ messages: Message[]; total: number }> => {\n    const response = await fetch(`${API_URL}/api/messages/sent?offset=${offset}&limit=${limit}`, {\n      credentials: 'include',\n    });\n\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return { messages: data.messages, total: data.total };\n  },\n\n  // 메시지 조회\n  getMessage: async (id: number): Promise<Message> => {\n    const response = await fetch(`${API_URL}/api/messages/${id}`, {\n      credentials: 'include',\n    });\n\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return data.message;\n  },\n\n  // 안 읽은 메시지 수\n  getUnreadCount: async (): Promise<number> => {\n    const response = await fetch(`${API_URL}/api/messages/unread/count`, {\n      credentials: 'include',\n    });\n\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return data.count;\n  },\n\n  // 메시지 삭제\n  deleteMessage: async (id: number): Promise<any> => {\n    const response = await fetch(`${API_URL}/api/messages/${id}`, {\n      method: 'DELETE',\n      credentials: 'include',\n    });\n\n    const data = await response.json();\n    if (!data.success) {\n      throw new Error(data.message);\n    }\n    return data;\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}